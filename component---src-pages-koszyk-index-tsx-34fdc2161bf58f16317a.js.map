{"version":3,"file":"component---src-pages-koszyk-index-tsx-34fdc2161bf58f16317a.js","mappings":"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","sources":["webpack://pc-builder/./node_modules/classnames/index.js","webpack://pc-builder/./src/components/atoms/button-background/button-background.tsx","webpack://pc-builder/./src/components/molecues/button-container/button-container.tsx","webpack://pc-builder/./src/components/molecues/button/button-primary.tsx","webpack://pc-builder/./src/components/molecues/button/secondary-button.tsx","webpack://pc-builder/./src/components/molecues/cart-list-item/cart-list-item.tsx","webpack://pc-builder/./src/components/atoms/add-button/add-button.tsx","webpack://pc-builder/./src/components/molecues/additional-service-select/additional-service-select.tsx","webpack://pc-builder/./src/infrastructure/equipment/additional-service-dto.ts","webpack://pc-builder/./src/components/organisms/additional-services/use-additional-services-static-query.ts","webpack://pc-builder/./src/components/organisms/additional-services/additional-services.tsx","webpack://pc-builder/./src/components/organisms/cart-page-content/cart-page-content.tsx","webpack://pc-builder/./src/pages/koszyk/index.tsx"],"sourcesContent":["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/* eslint-disable react/prop-types */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport classNames from 'classnames';\n\ntype ButtonBackgroundProps = React.HTMLAttributes<HTMLDivElement>\n\nexport const ButtonBackground = (\n  { className, ...restProps }: ButtonBackgroundProps,\n) => (\n  <div\n    {...restProps}\n    className={classNames(\n      className,\n      'h-full',\n      'w-full',\n      'rounded-2xl',\n      'transition',\n      'scale-95',\n      'group-hover:scale-100',\n      '-z-10',\n      'absolute',\n      'top-0',\n      'left-0',\n    )}\n  />\n);\n","/* eslint-disable react/prop-types */\n/* eslint-disable react/jsx-props-no-spreading */\nimport classNames from 'classnames';\nimport { ButtonBackground } from 'components/atoms/button-background/button-background';\nimport React from 'react';\n\ntype ButtonContainerProps = React.HTMLAttributes<HTMLButtonElement> & {\n  shouldHideOnClick?: boolean;\n  buttonClass?: string,\n};\n\nexport const ButtonContainer = ({\n  className, children, shouldHideOnClick = true, buttonClass, ...restProps\n}: ButtonContainerProps) => (\n  <div className={`${className} group relative z-20 h-14 min-h-[3.5rem] min-w-fit`}>\n    <button\n      type=\"button\"\n      className={classNames(\n        'min-w-fit',\n        'px-9',\n        'md:px-11',\n        'h-full',\n        'w-full',\n        'rounded-2xl',\n        'font-extrabold',\n        'text-button-primary-text',\n        'z-30',\n        'uppercase',\n        'flex',\n        'items-center',\n        'justify-center',\n        'transition',\n        'text-sm',\n        'whitespace-nowrap',\n        buttonClass,\n      )}\n      {...restProps}\n    >\n      {children}\n    </button>\n    <ButtonBackground\n      className={classNames(\n        'bg-secondary-gradient-from',\n        'group-hover:-translate-x-1',\n        'group-hover:-translate-y-1',\n        { 'group-hover:group-active:-translate-x-0.5': !shouldHideOnClick },\n        { 'group-hover:group-active:-translate-y-0.5': !shouldHideOnClick },\n        { 'group-hover:group-active:-translate-x-0': shouldHideOnClick },\n        { 'group-hover:group-active:-translate-y-0': shouldHideOnClick },\n      )}\n    />\n    <ButtonBackground\n      className={classNames(\n        'bg-secondary-gradient-to',\n        'group-hover:translate-x-1',\n        'group-hover:translate-y-1',\n        { 'group-hover:group-active:translate-x-0.5': !shouldHideOnClick },\n        { 'group-hover:group-active:translate-y-0.5': !shouldHideOnClick },\n        { 'group-hover:group-active:translate-x-0': shouldHideOnClick },\n        { 'group-hover:group-active:translate-y-0': shouldHideOnClick },\n      )}\n    />\n  </div>\n);\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { ButtonContainer } from '../button-container/button-container';\n\ntype ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement>\n\nexport const PrimaryButton = ({ children, className, ...restProps }: ButtonProps) => (\n  <ButtonContainer\n    shouldHideOnClick={false}\n    {...restProps}\n    className={className}\n    buttonClass=\"bg-main-purple\"\n  >\n    {children}\n  </ButtonContainer>\n);\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { ButtonContainer } from '../button-container/button-container';\n\ntype ButtonProps = React.HTMLAttributes<HTMLButtonElement>\n\nexport const SecondaryButton = ({ children, className, ...restProps }: ButtonProps) => (\n  <ButtonContainer\n    {...restProps}\n    className={className}\n    buttonClass=\"border border-gradient bg-theme-gradient-background-dark hover:active:bg-theme-gradient-background-light\"\n  >\n    {children}\n  </ButtonContainer>\n);\n","import { CartItemDTO } from 'domain/equipment/cart';\nimport { IGatsbyImageData } from 'gatsby-plugin-image';\nimport React from 'react';\nimport { numberToPriceFormat } from 'utils/number-to-price-format';\nimport { SecondaryButton } from '../button';\n\ninterface CartListItemProps {\n  cartItem: Pick<CartItemDTO<IGatsbyImageData>, 'name' | 'price'>,\n  onDelete: () => void;\n  image: JSX.Element;\n}\n\nexport const CartListItem = ({ onDelete, image, cartItem: { name, price } }: CartListItemProps) => (\n  <li className=\"flex h-fit items-center gap-2 border-b border-secondary-gray py-2\">\n    <div className=\"h-fit w-fit\">\n      {image}\n    </div>\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col flex-wrap gap-0 text-base font-light md:flex-row md:gap-2\">\n        {name}\n      </div>\n      <span className=\"font-uni-sans font-black\">{`${numberToPriceFormat(price)} ZŁ`}</span>\n    </div>\n    <div className=\"flex grow items-center justify-end\">\n      <SecondaryButton onClick={onDelete}>Usuń</SecondaryButton>\n    </div>\n  </li>\n);\n","/* eslint-disable react/prop-types */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\n\n// eslint-disable-next-line react/prop-types\nexport const AddButton = ({\n  className,\n  ...restProps\n}: React.HTMLAttributes<HTMLButtonElement>) => (\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  <button\n    type=\"button\"\n    {...restProps}\n    className={`${className} h-8 w-8 items-center justify-center rounded-full border  border-main-white bg-black text-3xl text-main-white transition-transform active:scale-95`}\n  />\n);\n","import { AddButton } from 'components/atoms/add-button/add-button';\nimport { GatsbyImage } from 'gatsby-plugin-image';\nimport { AdditionalService } from 'infrastructure/equipment/additional-service-dto';\nimport React from 'react';\nimport { numberToPriceFormat } from 'utils/number-to-price-format';\n\ninterface AdditionalServiceSelectProps {\n  data: AdditionalService,\n  onAddService: () => void;\n}\n\nexport const AdditionalServiceSelect = ({ data, onAddService }: AdditionalServiceSelectProps) => (\n  <div className=\"relative flex w-20 flex-col gap-2\">\n    <GatsbyImage image={data.imgFile} alt=\"test\" className=\"h-full w-full rounded-xl\" />\n    <div className=\"text-sm font-light\">\n      {data.name}\n    </div>\n    <div>\n      {data.oldPrice && <div className=\"text-sm font-normal text-secondary-gray line-through\">{`${numberToPriceFormat(data.oldPrice)} zł`}</div>}\n      <div className=\"font-uni-sans text-base font-black\">\n        {`${numberToPriceFormat(data.price)} zł`}\n      </div>\n    </div>\n    <AddButton onClick={onAddService} aria-label=\"Add service to cart\" className=\"absolute top-0 right-0 flex translate-x-1/3 -translate-y-1/3\">+</AddButton>\n  </div>\n);\n","import { IGatsbyImageData } from 'gatsby-plugin-image';\nimport { AdditionalServiceDTO } from 'domain/equipment/additional-service-dto';\n\ntype AdditionalServicesQuery = Queries.AdditionalServicesQuery['allEquipmentSetsJson'][][number]['nodes'][number]['additionalServices']\ntype AdditionalServiceQuery = NonNullable<AdditionalServicesQuery>[number]\n\nexport class AdditionalService implements AdditionalServiceDTO<IGatsbyImageData> {\n  priceId: string;\n\n  price: number;\n\n  oldPrice?: number | null;\n\n  name: string;\n\n  imgFile: IGatsbyImageData;\n\n  category: string;\n\n  constructor(query: AdditionalServiceQuery) {\n    this.imgFile = query?.imgFile?.childImageSharp?.gatsbyImageData!;\n    this.name = query?.name!;\n    this.price = query?.price!;\n    this.priceId = query?.priceId!;\n    this.oldPrice = query?.oldPrice;\n    this.category = query?.category!;\n  }\n}\n","import { useStaticQuery, graphql } from 'gatsby';\nimport { AdditionalService } from 'infrastructure/equipment/additional-service-dto';\n\nexport const useAdditionalServices = () => {\n  const { allEquipmentSetsJson: { nodes: data } } = useStaticQuery<Queries.AdditionalServicesQuery>(graphql`\n  query AdditionalServices {\n    allEquipmentSetsJson {\n      nodes {\n        additionalServices {\n          priceId\n          price\n          oldPrice\n          name\n          category\n          imgUrl\n          imgFile {\n            childImageSharp {\n              gatsbyImageData\n            }\n          }\n        }\n        buildId\n      }\n    }\n  }\n`);\n\n  return data.reduce((prev, { buildId, additionalServices }) => (\n    {\n      ...prev,\n      [buildId!]: additionalServices!.map((service) => new AdditionalService(service)),\n    }\n  ), {} as Record<string, AdditionalService[]>);\n};\n","import { AdditionalServiceSelect } from 'components/molecues/additional-service-select/additional-service-select';\nimport { ItemType, MetaDataKeys } from 'domain/equipment/cart';\nimport { AdditionalService } from 'infrastructure/equipment/additional-service-dto';\nimport { useCart } from 'infrastructure/equipment/use-cart';\nimport React, { useMemo } from 'react';\nimport { uid } from 'utils/uid';\nimport { useAdditionalServices } from './use-additional-services-static-query';\n\ninterface AdditionalServicesProps {\n  buildId: string;\n  onAddService: (service: AdditionalService) => void;\n}\n\nexport const AdditionalServices = (props: AdditionalServicesProps) => {\n  const { buildId, onAddService } = props;\n  const data = useAdditionalServices();\n  const { getFilteredBy } = useCart();\n\n  const availableServices = useMemo(() => data[buildId]?.filter((service) => !getFilteredBy({\n    include: [{\n      [MetaDataKeys.BUILD_ID]: buildId,\n      [MetaDataKeys.TYPE]: ItemType.ADDITIONAL_SERVICE,\n    }],\n  }).map((item) => item.name).includes(service.name)), [data, getFilteredBy]);\n\n  return (\n    <div className=\"flex w-full flex-col gap-6 bg-background-light p-6\">\n      <div>\n        <h3 className=\"font-uni-sans text-lg font-black uppercase\">dodatkowe usługi</h3>\n        <h4 className=\"text-base font-light\">Wyciągnij jeszcze więcej FPS!</h4>\n      </div>\n      <div className=\"flex gap-4\">\n        {availableServices.map((service) => (\n          <AdditionalServiceSelect key={`${service.name}_${uid()}`} data={service} onAddService={() => onAddService(service)} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { PrimaryButton } from 'components/molecues/button';\nimport { CartListItem } from 'components/molecues/cart-list-item/cart-list-item';\nimport { PriceBox } from 'components/molecues/price-box/price-box';\nimport { CartItemDTO, MetaDataKeys, ItemType } from 'domain/equipment/cart';\nimport { GatsbyImage, IGatsbyImageData } from 'gatsby-plugin-image';\nimport { useCart } from 'infrastructure/equipment/use-cart';\nimport { useStaticImages } from 'infrastructure/static-images/use-static-image';\nimport React, { useMemo } from 'react';\nimport { uid } from 'utils/uid';\nimport { AdditionalServices } from '../additional-services/additional-services';\n\ntype CartItemView = Pick<CartItemDTO<IGatsbyImageData>, 'name' | 'price' | 'groupTags'| 'id' >\n\nconst groupCartItems = (cartItems: CartItemDTO<IGatsbyImageData>[]): CartItemView => (\n  cartItems.reduce((prev, curr) => ({\n    id: 'n/a',\n    price: prev.price + curr.price,\n    name: [prev.name, curr.name].join('/'),\n    groupTags: { ...prev.groupTags, ...curr.groupTags, type: ItemType.GROUPED_EQUIPMENT },\n  }), { price: 0 } as CartItemView)\n);\n\nexport const CartPageContent = () => {\n  const {\n    cart,\n    cartValue,\n    getUniqueTagValues,\n    cartItemsCount,\n    checkout,\n    getFilteredBy,\n    addToCart,\n    removeFromCart,\n  } = useCart();\n  const { findStaticImage } = useStaticImages();\n\n  const builds = getUniqueTagValues(MetaDataKeys.BUILD_CART_ID)\n    ?.map((id) => groupCartItems(\n      getFilteredBy({\n        include: [\n          { [MetaDataKeys.TYPE]: ItemType.EQUIPMENT, [MetaDataKeys.BUILD_CART_ID]: id },\n        ],\n      }),\n    ));\n\n  const otherCartItems = getUniqueTagValues(MetaDataKeys.TYPE)\n    ?.filter((type) => type !== ItemType.EQUIPMENT)\n    .flatMap((type) => getFilteredBy({ include: [{ [MetaDataKeys.TYPE]: type }] }));\n\n  const allItems = useMemo(() => [\n    ...(builds || []),\n    ...(otherCartItems || []),\n  ], [builds, otherCartItems]);\n\n  const handleDelete = (item: CartItemView) => {\n    if (item.groupTags[MetaDataKeys.TYPE] === ItemType.GROUPED_EQUIPMENT) {\n      cart.items.forEach((cartItem) => {\n        if (item.groupTags.build_cart_id === cartItem.groupTags.build_cart_id) {\n          removeFromCart(cartItem.id);\n        }\n      });\n    } else {\n      removeFromCart(item.id);\n    }\n  };\n\n  return (\n    <div className=\"flex h-full w-full flex-col gap-4 bg-background-dark py-32  px-8 md:px-24 lg:max-w-3xl lg:px-32\">\n      {cartItemsCount ? (\n        <div>\n          <ul className=\"py-4\">\n            {allItems.map((item) => (\n              <CartListItem\n                key={item.id}\n                cartItem={item}\n                image={(\n                  <GatsbyImage\n                    className=\"h-20 w-20 rounded-xl\"\n                    alt=\"\"\n                    image={item.groupTags.cover_image}\n                  />\n                )}\n                onDelete={() => handleDelete(item)}\n              />\n            ))}\n          </ul>\n          <div className=\"flex w-full justify-end\">\n            <div className=\"flex w-full flex-col items-end gap-4 md:w-fit\">\n              <PriceBox price={cartValue} className=\"w-full md:w-fit\" />\n              <PrimaryButton className=\"w-full\" onClick={checkout}>\n                dostawa i płatność\n              </PrimaryButton>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"flex w-full items-center justify-center text-secondary-gray\">\n          Koszyk jest pusty\n        </div>\n      )}\n      <div>\n        {builds?.map(\n          (build) => build.groupTags.build_id && (\n          <AdditionalServices\n            key={build.groupTags.build_cart_id}\n            buildId={build.groupTags.build_id}\n            onAddService={(service) => addToCart([\n              {\n                ...service,\n                id: uid(),\n                groupTags: {\n                  [MetaDataKeys.BUILD_CART_ID]:\n                          build.groupTags.build_cart_id,\n                  [MetaDataKeys.TYPE]: ItemType.ADDITIONAL_SERVICE,\n                  [MetaDataKeys.COVER_IMAGE]: service.imgFile || findStaticImage(service.category),\n                  [MetaDataKeys.BUILD_ID]:\n                          build.groupTags.build_id,\n                },\n              },\n            ])}\n          />\n          ),\n        )}\n      </div>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport type { HeadFC } from 'gatsby';\nimport { MainTemplate } from 'components/templates/main-template';\nimport { Navbar } from 'components/organisms/navbar/navbar';\nimport { CartPageContent } from 'components/organisms/cart-page-content/cart-page-content';\n\nconst IndexPage = () => (\n  <MainTemplate\n    header={<Navbar />}\n    content={<CartPageContent />}\n    className=\"bg-background-dark text-main-white\"\n  />\n);\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => <title>Koszyk</title>;\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","includes","key","call","join","module","exports","default","ButtonBackground","_ref","className","restProps","React","ButtonContainer","children","shouldHideOnClick","buttonClass","type","PrimaryButton","SecondaryButton","CartListItem","onDelete","image","cartItem","name","price","numberToPriceFormat","onClick","AddButton","AdditionalServiceSelect","data","onAddService","GatsbyImage","imgFile","alt","oldPrice","AdditionalService","query","this","_query$imgFile","childImageSharp","_query$imgFile$childI","gatsbyImageData","priceId","category","AdditionalServices","props","buildId","allEquipmentSetsJson","nodes","useStaticQuery","reduce","prev","additionalServices","map","service","useAdditionalServices","getFilteredBy","useCart","availableServices","useMemo","_data$buildId","filter","include","MetaDataKeys","ItemType","item","uid","CartPageContent","cart","cartValue","getUniqueTagValues","cartItemsCount","checkout","addToCart","removeFromCart","findStaticImage","useStaticImages","builds","_getUniqueTagValues","id","curr","groupTags","otherCartItems","_getUniqueTagValues2","flatMap","allItems","cover_image","items","forEach","build_cart_id","handleDelete","PriceBox","build","build_id","MainTemplate","header","Navbar","content","Head"],"sourceRoot":""}